<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head.ejs'); %>
</head>
<body>
    <div class="container">
        <header>
            <h1>Portfolio for Investor: <%= portfolio.investorName %></h1>
        </header>
        <main>
            <h2>Stocks</h2>
            <table>
                <thead>
                    <tr>
                        <th>Stock Name</th>
                        <th>Abbreviation</th>
                        <th>Quantity</th>
                        <th>Current Price</th>
                        <th>Total Value</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <% portfolio.stocks.forEach(stock => { %>
                    <tr>
                        <td><%= stock.stockname %></td>
                        <td><%= stock.abbreviation %></td>
                        <td><%= stock.quantity %></td>
                        <td>$<%= stock.currentprice %></td>
                        <td>$<%= (stock.quantity * stock.currentprice).toFixed(2) %></td>
                        <td>
                            <form action="/stocktransaction/delete" method="POST">
                                <input type="hidden" name="transactionID" value="<%= stock.transactionID %>">
                                <button type="submit">Delete</button>
                            </form>
                        </td>
                    </tr>
                    <% }) %>
                </tbody>
            </table>

            <h2>Bonds</h2>
            <table>
                <thead>
                    <tr>
                        <th>Bond Name</th>
                        <th>Abbreviation</th>
                        <th>Quantity</th>
                        <th>Current Price</th>
                        <th>Total Value</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <% portfolio.bonds.forEach(bond => { %>
                    <tr>
                        <td><%= bond.bondname %></td>
                        <td><%= bond.abbreviation %></td>
                        <td><%= bond.quantity %></td>
                        <td>$<%= bond.currentprice %></td>
                        <td>$<%= (bond.quantity * bond.currentprice).toFixed(2) %></td>
                        <td>
                            <form action="/bondtransaction/delete" method="POST">
                                <input type="hidden" name="transactionID" value="<%= bond.transactionID %>">
                                <button type="submit">Delete</button>
                            </form>
                        </td>
                    </tr>
                    <% }) %>
                </tbody>
            </table>
        </main>
        <footer>
            <p>&copy; 2024 Stock Brokerage System</p>
        </footer>
    </div>
</body>
</html>
